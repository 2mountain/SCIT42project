<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org"
	xmlns:sec="http://thymeleaf.org/extras/spring-security">

<head>
<meta charset="UTF-8">

<!-- Title -->
<title>Challenge</title>



<style>
.entrylisthead {
	color: white;
	background-color: gray;
	text-align: center;
	width: 100px;
	border: black solid 1px;
}

.center {
	color: white;
	background-color: silver;
}

.challenge {
	border: 1px solid black;
	text-align: center;
	background-color: gray;
}
</style>
</head>

<body>

	<header>
		<h1>[ 도전과제 ]</h1>
	</header>
	<section>
		<table class="challenge">
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">도전내용</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"
					th:text="${challenge.challengeName}"></td>
			</tr>
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">도전내용</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"><pre
						th:text="${challenge.challengeContents}"></pre></td>
			</tr>
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">성공포인트</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"><pre
						th:text="${challenge.challPoint}"></pre></td>
			</tr>
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">도전시작일</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"
					th:text="${challenge.challengeStartDate}"></td>
			</tr>
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">도전
					끝나는일</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"
					th:text="${challenge.challengeEndDate}"></td>

			</tr>
			<tr>
				<th
					style="width: 100px; border: black solid 1px; text-align: center; background-color: white;">도전
					등록일</th>
				<td
					style="width: 100px; border: black solid 1px; text-align: center; background-color: silver;"
					th:text="${challenge.challengeRegistDay}"></td>
			</tr>
			<tr>
			</tr>

		</table>

		<br> <a
			style="border-radius: 5px; color: black; background-color: #6699FF; border: #0000FF;"
			sec:authorize="isAuthenticated()"
			th:href="@{/challenge/entrychallenge(challengeNumber=${challenge.challengeNumber})}">도전등록하기
		</a> <a
			style="border-radius: 5px; color: black; background-color: #6699FF; border: #0000FF;"
			sec:authorize="isAuthenticated()"
			th:href="@{/challenge/writeentrylist(challengeNumber=${challenge.challengeNumber})}">도전 수행 하기
		</a> 
			 <a
			style="border-radius: 5px; color: black; background-color: #6699FF; border: #0000FF;"
			sec:authorize="isAuthenticated()"
			th:href="@{/challenge/deleteentrylist(challengeNumber=${challenge.challengeNumber})}">도전취소하기</a>
		<br> <a
			style="border-radius: 5px; color: black; background-color: #6699FF; border: #0000FF;"
			sec:authorize="hasRole('ADMIN')"
			th:href="@{/challenge/challengeupdate(challengeNumber=${challenge.challengeNumber})}">수정</a>
		<!-- 관리자만 보임 -->

		<table class="entrylist" sec:authorize="hasRole('ADMIN')">

			<tr class="entrylisthead">
				<th>신청번호</th>
				<th>도전자명</th>
				<th>도전성공여부</th>
				<th>지급한 포인트</th>
				<th>지급 날짜</th>
				<th>포인트지급</th>


			</tr>
			<tr class="center" th:each="entrylist : ${entrylist}">
				<td th:text="${entrylist.entrylistNumber}" class="center"></td>
				<td><a th:text="${entrylist.memberId}"></a></td>
				<td th:text="${entrylist.challengeSuccess}" class="center"></td>
				<td th:text="${entrylist.getPoint}"></td>
				<td th:text="${entrylist.getPointDate}"></td>
				<td><a th:if="${entrylist.getPoint}==0"
					th:href="@{/challenge/challengegivepoint(entrylistNumber=${entrylist.entrylistNumber},point=${challenge.challPoint},memberId=${entrylist.memberId},challengeNumber=${challenge.challengeNumber})}">포인트지급</a></td>
			</tr>
		</table>
		<!-- ****** Archive Area End ****** -->
		<!--  type="application/js" -->
</body>